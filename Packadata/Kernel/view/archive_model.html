<?php

foreach ( $this->archives as $archive ) {
	$attributes = $archive->model_attributes;
	if ( $archive == $archive->last_version( $archive->model_id ) ) {
		?><h4>Last model</h4><?php
		if ( ! $archive->current_version( $archive->model_id ) ) {
			?>Warning: has been deleted (no current version)<br/><?php
		}
	} else {
		?><br/><?php
	}
	?>
	Modification date : <?= date_format( \DateTime::createFromFormat( 'Y-m-d G:i:s', $archive->date_version ), 'd/m/Y' ); ?><br/>
	Modification hour : <?= date_format( \DateTime::createFromFormat( 'Y-m-d G:i:s', $archive->date_version ), 'G:i' ); ?><br/>
	Changed by the IP : <?= $archive->ip_version ?><br/>
	Version of the model : <?= $archive->model_type_version ?><br/>
	Version of the attributes : <?= $archive->model_attributes_version ?><br/>
	Values of the attributes : <br/><?php
	foreach ( $attributes as $key => $value ) {
		?><?= $key ?> = <?= $value ?> // <?php
	}
	?><br/><?php
}
?>
<br/>
<button onclick="location.href='<?= $this->action_url[ 'all' ] ?>'">List</button>
<button onclick="location.href='<?= $this->action_url[ 'create' ] ?>'">Create</button>
<?php if ( $this->current ) {
?>
	<button onclick="location.href='<?= $this->action_url[ 'edit' ] ?>'">Edit</button>
	<button onclick="location.href='<?= $this->action_url[ 'view' ] ?>'">View</button>
<?php
} else {
	//TODO create methods & routes for the following actions

	/*<button onclick="location.href='<?= $this->action_url[ 'restore' ] ?>'">Restore</button>
	<button onclick="location.href='<?= $this->action_url[ 'erase' ] ?>'">Erase</button>
	*/
}
?>
